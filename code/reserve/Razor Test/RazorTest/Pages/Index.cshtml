@page
@using RazorTest.Models
@using RazorTest.Utilities
@model RazorTest.Pages.IndexModel
@{
    ViewData["Title"] = "View List";
}

<style>
    .link-table {
        width: 100%;
        border-collapse: collapse;
    }

        .link-table th, .link-table td {
            border: 1px solid #000;
            padding: 8px;
            text-align: left;
        }

        .link-table th {
            background-color: #f2f2f2;
        }

        .link-table a {
            color: #007bff;
            text-decoration: none;
        }

            .link-table a:hover {
                text-decoration: underline;
            }
</style>

<nav class="navbar navbar-expand-lg navbar-light bg-light">
    <a class="navbar-brand" href="#">RazorTest</a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav ml-auto">
            @if (!Model.VerifyAuth("Admin") && !Model.VerifyAuth("Manager") && !Model.VerifyAuth("Cashier") && !Model.VerifyAuth("Sale"))
            {
                <li class="nav-item">
                    <a class="nav-link" asp-page="/Authentication/LoginPage">Login</a>
                </li>
            }
            @if (Model.VerifyAuth("Admin") || Model.VerifyAuth("Manager") || Model.VerifyAuth("Cashier") || Model.VerifyAuth("Sale"))
            {
                <li class="nav-item">
                    <a class="nav-link" asp-page="/Authentication/LogoutPage">Logout</a>
                </li>
            }
        </ul>
    </div>
</nav>

<div class="container mt-4">
    <h2>Navigation</h2>
    <table class="link-table">
        <thead>
            <tr>
                <th>Section</th>
                <th>Action</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>Customers</td>
                <td>
                    @if (Model.VerifyAuth("Admin"))
                    {
                        <a asp-page="/CustomerCRUD/CustomerDetail">View all Customers</a>
                    }
                    else
                    {
                        <span>You need Admin Role to access this feature.</span>
                    }
                </td>
            </tr>
            <tr>
                <td>Discounts</td>
                <td>
                    @if (Model.VerifyAuth("Admin"))
                    {
                        <a asp-page="/DiscountCRUD/DiscountDetail">View all Discounts</a>
                    }
                    else
                    {
                        <span>You need Admin Role to access this feature.</span>
                    }
                </td>
            </tr>
            <tr>
                <td>Gems</td>
                <td>
                    @if (Model.VerifyAuth("Admin"))
                    {
                        <a asp-page="/GemCRUD/GemDetail">View all Gems</a>
                    }
                    else
                    {
                        <span>You need Admin Role to access this feature.</span>
                    }
                </td>
            </tr>
            <tr>
                <td>Golds</td>
                <td>
                    @if (Model.VerifyAuth("Admin"))
                    {
                        <a asp-page="/GoldCRUD/GoldDetail">View all Golds</a>
                    }
                    else
                    {
                        <span>You need Admin Role to access this feature.</span>
                    }
                </td>
            </tr>
            <tr>
                <td>Invoice</td>
                <td>
                    @if (Model.VerifyAuth("Admin") || Model.VerifyAuth("Manager") || Model.VerifyAuth("Cashier") || Model.VerifyAuth("Sale"))
                    {
                        <a asp-page="/InvoiceCRUD/InvoiceDetail">View all Invoices</a>
                    }
                    else
                    {
                        <span>Access Limit: Manager, Cashier, Sale, Admin.</span>
                    }
                </td>
            </tr>
            <tr>
                <td>Invoice Item</td>
                <td>
                    @if (Model.VerifyAuth("Admin") || Model.VerifyAuth("Manager") || Model.VerifyAuth("Cashier") || Model.VerifyAuth("Sale"))
                    {
                        <a asp-page="/InvoiceItemCRUD/InvoiceItemDetail">View all InvoiceItems</a>
                    }
                    else
                    {
                        <span>Access Limit: Manager, Cashier, Sale, Admin.</span>
                    }
                </td>
            </tr>
            <tr>
                <td>Product</td>
                <td>
                    @if (Model.VerifyAuth("Admin") || Model.VerifyAuth("Manager") || Model.VerifyAuth("Cashier") || Model.VerifyAuth("Sale"))
                    {
                        <a asp-page="/ProductCRUD/ProductDetail">View all Products</a>
                    }
                    else
                    {
                        <span>Access Limit: Manager, Cashier, Sale, Admin.</span>
                    }
                </td>
            </tr>
            <tr>
                <td>User</td>
                <td>
                    @if (Model.VerifyAuth("Admin"))
                    {
                        <a asp-page="/UserCRUD/UserDetail">View all Users</a>
                    }
                    else
                    {
                        <span>You need Admin Role to access this feature.</span>
                    }
                </td>
            </tr>
            <tr>
                <td>Warranty</td>
                <td>
                    @if (Model.VerifyAuth("Manager") || Model.VerifyAuth("Admin"))
                    {
                        <a asp-page="/WarrantyCRUD/WarrantyDetail">View all Warranties</a>
                    }
                    else
                    {
                        <span>You need Manager Role or Admin Role to access this feature.</span>
                    }
                </td>
            </tr>
            <tr>
                <td>Gold Price</td>
                <td><a asp-page="/GoldPriceDetail">View all Gold Prices</a></td>
            </tr>
            <tr>
                <td>Sale Feature</td>
                <td>
                    @if (Model.VerifyAuth("Sale"))
                    {
                        <a asp-page="/Sale/SaleHomePage">Access The Sale Feature</a>
                    }
                    else
                    {
                        <span>You need Sale Staff Role to access this feature.</span>
                    }
                </td>
            </tr>
            @if (!Model.VerifyAuth("Admin") && !Model.VerifyAuth("Manager") && !Model.VerifyAuth("Cashier") && !Model.VerifyAuth("Sale"))
            {
                <tr>
                    <td>Login Feature</td>
                    <td><a asp-page="/Authentication/LoginPage">Access The Login Feature</a></td>
                </tr>
            }
            @if (Model.VerifyAuth("Admin") || Model.VerifyAuth("Manager") || Model.VerifyAuth("Cashier") || Model.VerifyAuth("Sale"))
            {
                <tr>
                    <td>Logout Feature</td>
                    <td><a asp-page="/Authentication/LogoutPage">Access The Logout Feature</a></td>
                </tr>
            }
        </tbody>
    </table>
</div>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
}
